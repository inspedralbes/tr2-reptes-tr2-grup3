<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600" width="800" height="600">
  <style>
    .title { font: bold 16px sans-serif; fill: #1f2937; }
    .layer-box { rx: 8; }
    .layer-label { font: bold 12px sans-serif; fill: #ffffff; }
    .component { fill: #ffffff; stroke: #d1d5db; stroke-width: 1; rx: 4; }
    .component-text { font: 10px sans-serif; fill: #374151; }
    .arrow { fill: none; stroke: #6b7280; stroke-width: 1.5; stroke-dasharray: 4,2; }
    .arrow-solid { fill: none; stroke: #3b82f6; stroke-width: 2; marker-end: url(#arrow); }
  </style>
  
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f9fafb" />
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">ARQUITECTURA DEL SISTEMA</text>
  
  <!-- Browser/Client -->
  <g transform="translate(300, 50)">
    <rect class="layer-box" width="200" height="50" fill="#f3f4f6" stroke="#9ca3af" />
    <text x="100" y="20" text-anchor="middle" font-size="12" font-weight="bold" fill="#374151">üåê Navegador Web</text>
    <text x="100" y="38" text-anchor="middle" font-size="10" fill="#6b7280">Chrome / Firefox / Safari</text>
  </g>
  
  <!-- Arrow to Frontend -->
  <path class="arrow-solid" d="M400 100 L400 130" />
  <text x="415" y="118" font-size="9" fill="#3b82f6">HTTPS</text>
  
  <!-- Frontend Layer -->
  <g transform="translate(50, 140)">
    <rect class="layer-box" width="320" height="180" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" />
    <text x="160" y="25" text-anchor="middle" class="layer-label" fill="#1e40af">FRONTEND (React + Vite)</text>
    
    <!-- Components -->
    <g transform="translate(20, 45)">
      <rect class="component" width="85" height="55" />
      <text x="42" y="20" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Pages</text>
      <text x="42" y="35" text-anchor="middle" class="component-text">/admin/*</text>
      <text x="42" y="47" text-anchor="middle" class="component-text">/center/*</text>
    </g>
    
    <g transform="translate(115, 45)">
      <rect class="component" width="85" height="55" />
      <text x="42" y="20" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Components</text>
      <text x="42" y="35" text-anchor="middle" class="component-text">UI / Layout</text>
      <text x="42" y="47" text-anchor="middle" class="component-text">Forms</text>
    </g>
    
    <g transform="translate(210, 45)">
      <rect class="component" width="85" height="55" />
      <text x="42" y="20" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Context</text>
      <text x="42" y="35" text-anchor="middle" class="component-text">AuthContext</text>
      <text x="42" y="47" text-anchor="middle" class="component-text">State Mgmt</text>
    </g>
    
    <g transform="translate(65, 115)">
      <rect class="component" width="85" height="45" />
      <text x="42" y="18" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">API Client</text>
      <text x="42" y="33" text-anchor="middle" class="component-text">Axios</text>
    </g>
    
    <g transform="translate(165, 115)">
      <rect class="component" width="85" height="45" />
      <text x="42" y="18" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Router</text>
      <text x="42" y="33" text-anchor="middle" class="component-text">React Router</text>
    </g>
  </g>
  
  <!-- Backend Layer -->
  <g transform="translate(430, 140)">
    <rect class="layer-box" width="320" height="180" fill="#dcfce7" stroke="#16a34a" stroke-width="2" />
    <text x="160" y="25" text-anchor="middle" class="layer-label" fill="#166534">BACKEND (Node.js + Express)</text>
    
    <!-- Components -->
    <g transform="translate(20, 45)">
      <rect class="component" width="85" height="55" />
      <text x="42" y="20" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Modules</text>
      <text x="42" y="35" text-anchor="middle" class="component-text">auth, requests</text>
      <text x="42" y="47" text-anchor="middle" class="component-text">allocation...</text>
    </g>
    
    <g transform="translate(115, 45)">
      <rect class="component" width="85" height="55" />
      <text x="42" y="20" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Middleware</text>
      <text x="42" y="35" text-anchor="middle" class="component-text">JWT Auth</text>
      <text x="42" y="47" text-anchor="middle" class="component-text">Phase Check</text>
    </g>
    
    <g transform="translate(210, 45)">
      <rect class="component" width="85" height="55" />
      <text x="42" y="20" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Services</text>
      <text x="42" y="35" text-anchor="middle" class="component-text">Email</text>
      <text x="42" y="47" text-anchor="middle" class="component-text">Upload</text>
    </g>
    
    <g transform="translate(115, 115)">
      <rect class="component" width="85" height="45" />
      <text x="42" y="18" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">DB Pool</text>
      <text x="42" y="33" text-anchor="middle" class="component-text">pg (node-postgres)</text>
    </g>
  </g>
  
  <!-- Arrow Frontend to Backend -->
  <path class="arrow-solid" d="M370 230 L430 230" />
  <text x="400" y="225" text-anchor="middle" font-size="9" fill="#3b82f6">REST API</text>
  
  <!-- Database Layer -->
  <g transform="translate(250, 370)">
    <rect class="layer-box" width="300" height="120" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" />
    <text x="150" y="25" text-anchor="middle" class="layer-label" fill="#92400e">BASE DE DADES (PostgreSQL)</text>
    
    <g transform="translate(20, 45)">
      <rect class="component" width="80" height="55" />
      <text x="40" y="18" text-anchor="middle" font-size="8" font-weight="bold" fill="#374151">Usuaris</text>
      <text x="40" y="32" text-anchor="middle" class="component-text">users</text>
      <text x="40" y="44" text-anchor="middle" class="component-text">teachers</text>
    </g>
    
    <g transform="translate(110, 45)">
      <rect class="component" width="80" height="55" />
      <text x="40" y="18" text-anchor="middle" font-size="8" font-weight="bold" fill="#374151">Tallers</text>
      <text x="40" y="32" text-anchor="middle" class="component-text">workshops</text>
      <text x="40" y="44" text-anchor="middle" class="component-text">editions</text>
    </g>
    
    <g transform="translate(200, 45)">
      <rect class="component" width="80" height="55" />
      <text x="40" y="18" text-anchor="middle" font-size="8" font-weight="bold" fill="#374151">Assignacions</text>
      <text x="40" y="32" text-anchor="middle" class="component-text">requests</text>
      <text x="40" y="44" text-anchor="middle" class="component-text">allocations</text>
    </g>
  </g>
  
  <!-- Arrow Backend to DB -->
  <path class="arrow-solid" d="M590 320 L590 350 L550 350 L550 370" />
  <text x="600" y="345" font-size="9" fill="#3b82f6">SQL</text>
  
  <!-- Docker Container Box -->
  <rect x="30" y="510" width="740" height="70" fill="none" stroke="#6366f1" stroke-width="2" stroke-dasharray="5,3" rx="10" />
  <text x="400" y="535" text-anchor="middle" font-size="12" font-weight="bold" fill="#4f46e5">üê≥ Docker Compose</text>
  <text x="400" y="555" text-anchor="middle" font-size="10" fill="#6b7280">frontend:5173 | backend:3000 | db:5432 | nginx:80/443</text>
  
  <!-- Legend -->
  <g transform="translate(30, 390)">
    <text x="0" y="0" font-size="11" font-weight="bold" fill="#374151">Tecnologies:</text>
    <rect x="0" y="10" width="12" height="12" fill="#dbeafe" stroke="#3b82f6" />
    <text x="18" y="20" font-size="9" fill="#6b7280">React 18 + TailwindCSS</text>
    <rect x="0" y="30" width="12" height="12" fill="#dcfce7" stroke="#16a34a" />
    <text x="18" y="40" font-size="9" fill="#6b7280">Express + JWT</text>
    <rect x="0" y="50" width="12" height="12" fill="#fef3c7" stroke="#f59e0b" />
    <text x="18" y="60" font-size="9" fill="#6b7280">PostgreSQL 15</text>
  </g>
</svg>
